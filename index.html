<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>US State Data Breach Rules</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        /* --- Add this to your existing <style> section --- */
        .us-map path.heat-now {
            fill: #ef4444 !important; /* RED */
            filter: drop-shadow(0 0 8px rgba(239, 68, 68, 0.6)); /* Glow effect */
            z-index: 10;
        }

        .us-map path.heat-30 {
            fill: #f59e0b !important; /* ORANGE */
        }

        .us-map path.heat-45 {
            fill: #f5ce0b !important; /* YELLOW */
        }

        .us-map path.heat-60 {
            fill: #80f63b !important; /* GREED */
        }
        .us-map path.heat-reasonable {
            fill: #3b82f6 !important; /* BLUE */
            opacity: 0.6; /* Dim the safe ones so red pops out */
        }


        /* Legend for the Heatmap */
        .heatmap-legend {
            display: flex;
            gap: 12px;
            margin-top: 8px;
            font-size: 0.7rem;
            color: #94a3b8;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        /* Hide the old grid */
        .states-grid {
            display: none;
        }

        .map-container {
            position: relative;
            width: 100%;
            height: fit-content;
            margin: 12px auto;
            max-width: 700px;

            /* OLD VALUE: padding-top: 62.6%; */
            /* NEW VALUE based on 1000x589 viewbox */

            overflow: hidden;
        }

        /* SVG fills the aspect-ratio box */
        .us-map {
            position: relative;
            inset: 0; /* top:0; right:0; bottom:0; left:0; */
            width: 100%;
            height: 100%;
            display: block;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3));
        }

        /* State Paths */
        .us-map path {
            fill: #1f2937; /* Matches your --chip-bg */
            stroke: #374151; /* Matches your --border-subtle */
            stroke-width: 1px;
            transition: fill 0.2s ease;
            cursor: pointer;
        }

        .us-map path:hover {
            fill: #2563eb; /* Matches your --accent */
            transform: translateY(-2px);
            filter: drop-shadow(0 4px 8px rgba(37, 99, 235, 0.4));
            z-index: 10; /* Bring to front on hover */
        }

        .us-map path.active {
            fill: #3b82f6; /* Lighter accent */
            stroke: #ffffff;
            stroke-width: 1.5;
            filter: drop-shadow(0 0 15px rgba(37, 99, 235, 0.6));
        }

        /* Tooltip for map (optional but nice) */
        .map-tooltip {
            position: absolute;
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid #374151;
            color: #f9fafb;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.1s;
        }
        :root {
            --bg: #0f172a;
            --card-bg: #111827;
            --accent: #2563eb;
            --accent-soft: rgba(37, 99, 235, 0.15);
            --border-subtle: #1f2937;
            --text-main: #f9fafb;
            --text-muted: #9ca3af;
            --chip-bg: #1f2937;
            --danger: #f97373;
            --radius-lg: 16px;
            --radius-md: 10px;
            --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.45);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
            sans-serif;
            background: radial-gradient(circle at top, #1d2638 0, #020617 50%);
            color: var(--text-main);
            min-height: 100vh;
            padding: 24px;
            display: flex;
            justify-content: center;
            align-items: stretch;
        }

        .app-shell {
            width: 100%;
            max-width: 1280px;
            background: rgba(15, 23, 42, 0.96);
            border-radius: 24px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            box-shadow: var(--shadow-soft);
            padding: 20px 24px 24px;
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        /* Header / Flag */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .flag {
            width: 96px;
            height: 60px;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid rgba(148, 163, 184, 0.4);
            box-shadow: 0 8px 22px rgba(0, 0, 0, 0.45);
            background: #b91c1c;
            position: relative;
        }

        .flag-stripe {
            position: absolute;
            left: 0;
            right: 0;
            height: 5px;
            background: #f9fafb;
        }

        .flag-stripe:nth-child(1) {
            top: 0;
        }
        .flag-stripe:nth-child(2) {
            top: 10px;
        }
        .flag-stripe:nth-child(3) {
            top: 20px;
        }
        .flag-stripe:nth-child(4) {
            top: 30px;
        }
        .flag-stripe:nth-child(5) {
            top: 40px;
        }
        .flag-stripe:nth-child(6) {
            top: 50px;
        }

        .flag-canton {
            position: absolute;
            top: 0;
            left: 0;
            width: 40px;
            height: 32px;
            background: #1d4ed8;
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(4, 1fr);
            padding: 3px;
            gap: 1px;
        }

        .flag-star {
            width: 3px;
            height: 3px;
            border-radius: 999px;
            background: #f9fafb;
            opacity: 0.85;
        }

        .header-text h1 {
            font-size: 1.4rem;
            font-weight: 600;
            letter-spacing: 0.02em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-text h1 span.badge {
            font-size: 0.7rem;
            font-weight: 500;
            padding: 3px 8px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.4);
            background: rgba(15, 23, 42, 0.85);
            color: var(--text-muted);
        }

        .header-text p {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chip {
            padding: 6px 10px;
            border-radius: 999px;
            background: var(--chip-bg);
            border: 1px solid var(--border-subtle);
            font-size: 0.75rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .chip-dot {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: var(--accent);
            box-shadow: 0 0 0 5px var(--accent-soft);
        }

        /* Layout */
        .content {
            display: grid;
            grid-template-columns: minmax(0, 0.9fr) minmax(0, 1.4fr);
            gap: 20px;
            margin-top: 6px;
        }

        /* States panel */
        .states-panel {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-subtle);
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .panel-header {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .panel-header h2 {
            font-size: 1rem;
            font-weight: 600;
        }

        .panel-header span {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .state-search {
            margin-top: 4px;
            position: relative;
        }

        .state-search input {
            width: 100%;
            padding: 8px 10px 8px 28px;
            border-radius: 999px;
            border: 1px solid var(--border-subtle);
            background: #020617;
            color: var(--text-main);
            font-size: 0.8rem;
            outline: none;
        }

        .state-search input::placeholder {
            color: #6b7280;
        }

        .state-search-icon {
            position: absolute;
            left: 9px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.75rem;
            color: #6b7280;
            pointer-events: none;
        }

        .states-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 8px;
            margin-top: 8px;
            max-height: 360px;
            overflow: auto;
            padding-right: 2px;
        }

        .state-pill {
            border-radius: var(--radius-md);
            border: 1px solid var(--border-subtle);
            padding: 7px 8px;
            font-size: 0.8rem;
            color: var(--text-muted);
            background: linear-gradient(145deg, #020617, #020617);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            gap: 2px;
            transition: border 0.18s ease, background 0.18s ease,
            transform 0.12s ease, box-shadow 0.18s ease;
        }

        .state-pill .state-name {
            font-weight: 500;
            color: var(--text-main);
            font-size: 0.8rem;
        }

        .state-pill .state-code {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .state-pill:hover {
            transform: translateY(-1px);
            border-color: var(--accent);
            background: radial-gradient(
                    circle at top,
                    rgba(37, 99, 235, 0.14),
                    #020617
            );
            box-shadow: 0 10px 18px rgba(15, 23, 42, 0.55);
        }

        .state-pill.active {
            border-color: var(--accent);
            background: radial-gradient(
                    circle at top left,
                    var(--accent-soft),
                    #020617
            );
            box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.5);
        }

        /* Details panel */
        .details-panel {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-subtle);
            padding: 16px 16px 14px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .gradient-glow {
            position: absolute;
            inset: 0;
            pointer-events: none;
            background: radial-gradient(
                    circle at top right,
                    rgba(37, 99, 235, 0.18),
                    transparent 55%
            );
            opacity: 0.75;
            mix-blend-mode: screen;
        }

        .details-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            position: relative;
            z-index: 1;
        }

        .details-title-group {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .details-title {
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .details-title span.code-badge {
            font-size: 0.7rem;
            font-weight: 500;
            padding: 3px 7px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.45);
            color: var(--text-muted);
            background: rgba(15, 23, 42, 0.85);
        }

        .details-subtitle {
            font-size: 0.78rem;
            color: var(--text-muted);
        }

        .details-chips {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .badge-pill {
            font-size: 0.68rem;
            padding: 4px 8px;
            border-radius: 999px;
            border: 1px solid var(--border-subtle);
            background: rgba(15, 23, 42, 0.9);
            color: var(--text-muted);
            display: inline-flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
        }

        .badge-pill .badge-dot {
            width: 6px;
            height: 6px;
            border-radius: 999px;
            background: var(--accent);
        }

        .badge-pill.danger .badge-dot {
            background: var(--danger);
        }

        /* --- Map Controls Container --- */
        .map-controls {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
            padding: 10px 12px;
            background: #0f172a; /* Darker background to separate from panel */
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
        }

        .toggle-row {
            display: flex;
            justify-content: space-between; /* Pushes label left, switch right */
            align-items: center;
        }

        .toggle-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* --- The Switch (Same as before but refined sizes) --- */
        .switch {
            position: relative;
            display: inline-block;
            width: 36px; /* Slightly smaller */
            height: 20px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #334155;
            transition: 0.3s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: #cbd5e1;
            transition: 0.3s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--accent);
        }
        input:checked + .slider:before {
            transform: translateX(16px);
            background-color: #fff;
        }

        .legend-pills {
            display: flex;
            gap: 6px;

            /* FIX: Start hidden and unclickable */
            opacity: 0;
            pointer-events: none;

            transition: opacity 0.3s ease;
        }

        .legend-pill {
            flex: 1; /* Distribute space evenly */
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 5px;
            font-size: 0.65rem;
            padding: 4px 0;
            border-radius: 6px;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(148, 163, 184, 0.1);
            color: var(--text-muted);
            cursor: help;
        }

        .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }
        .dnow {
            background: #ef4444 !important; /* RED */
            box-shadow:0 0 8px rgba(239, 68, 68, 0.6); /* Glow effect */
        }
        .d30 {
            background: #f59e0b !important; /* ORANGE */
        }

        .d45 {
            background: #f5ce0b !important; /* YELLOW */
        }

        .d60 {
            background: #80f63b !important; /* GREED */
        }
        .dreasonable {
            background: #3b82f6 !important; /* BLUE */
            opacity: 0.6; /* Dim the safe ones so red pops out */
        }

        .badge-pill.danger {
            border-color: rgba(248, 113, 113, 0.5);
            color: #fecaca;
        }

        /* --- Autocomplete Dropdown --- */
        .autocomplete-dropdown {
            position: absolute;
            top: 100%; /* Push it right below the input */
            left: 0;
            right: 0;
            background: #1e293b; /* Slate-800 matches your theme */
            border: 1px solid #334155;
            border-radius: 12px;
            margin-top: 6px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 50; /* Ensure it sits on top of everything */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
        }

        .autocomplete-item {
            padding: 10px 14px;
            font-size: 0.85rem;
            color: #e2e8f0;
            cursor: pointer;
            border-bottom: 1px solid rgba(51, 65, 85, 0.5);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.15s;
        }

        .autocomplete-item:last-child {
            border-bottom: none;
        }

        .autocomplete-item:hover {
            background: #2563eb; /* Highlight Blue */
            color: white;
        }

        .autocomplete-item .match-code {
            font-size: 0.7rem;
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
            color: #cbd5e1;
        }

        /* Scrollbar refinement for the list */
        .autocomplete-dropdown::-webkit-scrollbar {
            width: 6px;
        }
        .autocomplete-dropdown::-webkit-scrollbar-track {
            background: #0f172a;
        }
        .autocomplete-dropdown::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
        }

        /* Filter bar inside details */
        .details-filters {
            position: relative;
            z-index: 1;
            margin-top: 4px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
        }

        .details-filters-left {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .field-select {
            border-radius: 999px;
            border: 1px solid var(--border-subtle);
            background: #020617;
            color: var(--text-main);
            font-size: 0.75rem;
            padding: 6px 10px;
            outline: none;
        }
        .us-map a {
            cursor: default; /* visual only, paths keep pointer */
        }

        .us-map a path {
            cursor: pointer; /* ensure hand cursor on states */
        }

        .details-search {
            position: relative;
        }

        .details-search input {
            border-radius: 999px;
            border: 1px solid var(--border-subtle);
            background: #020617;
            color: var(--text-main);
            font-size: 0.75rem;
            padding: 6px 10px 6px 24px;
            outline: none;
            min-width: 180px;
        }

        .details-search input::placeholder {
            color: #6b7280;
        }

        .details-search-icon {
            position: absolute;
            left: 7px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.75rem;
            color: #6b7280;
        }

        /* Row-style sections */
        .rules-sections-wrapper {
            position: relative;
            z-index: 1;
            border-radius: 12px;
            border: 1px solid var(--border-subtle);
            background: rgba(15, 23, 42, 0.96);
            margin-top: 4px;
            max-height: 340px;
            overflow: auto;
        }

        .rules-sections {
            display: flex;
            flex-direction: column;
        }

        .rules-section {
            display: grid;
            grid-template-columns: 210px minmax(0, 1fr);
            gap: 12px;
            padding: 10px 12px;
            border-bottom: 1px solid rgba(31, 41, 55, 0.9);
        }

        .rules-section:last-child {
            border-bottom: none;
        }

        .rules-section-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.06em;
            color: var(--text-muted);
            align-self: flex-start;
        }

        .rules-section-label span {
            display: inline-block;
            padding: 3px 7px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.3);
            background: rgba(2, 6, 23, 0.9);
        }

        .rules-section-content {
            font-size: 0.78rem;
            color: var(--text-main);
            line-height: 1.45;
            white-space: pre-line;
        }

        .rules-section-content.muted {
            color: var(--text-muted);
        }

        .rules-section-content a {
            color: #bfdbfe;
            text-decoration: none;
            font-size: 0.78rem;
        }

        .rules-section-content a:hover {
            text-decoration: underline;
        }

        .rules-section-pill {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 3px 7px;
            border-radius: 999px;
            font-size: 0.7rem;
            border: 1px solid rgba(148, 163, 184, 0.35);
            background: rgba(15, 23, 42, 0.9);
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .rules-section-pill strong {
            color: var(--text-main);
            font-weight: 500;
        }

        .details-footer {
            font-size: 0.7rem;
            color: var(--text-muted);
            display: flex;
            justify-content: space-between;
            gap: 16px;
            margin-top: 2px;
            position: relative;
            z-index: 1;
        }

        .details-footer span {
            opacity: 0.9;
        }

        .hidden {
            display: none !important;
        }

        .highlight-state {
            color: #e5e7eb;
            font-weight: 500;
        }

        @media (max-width: 960px) {
            body {
                padding: 12px;
            }

            .app-shell {
                padding: 16px 14px;
            }

            .content {
                grid-template-columns: 1fr;
            }

            .details-panel {
                order: -1;
            }

            .rules-section {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 600px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
            }

            .header-right {
                width: 100%;
                justify-content: flex-start;
                flex-wrap: wrap;
            }

            .states-grid {
                max-height: 240px;
            }

            .details-footer {
                flex-direction: column;
            }

            .details-search input {
                min-width: 0;
                width: 150px;
            }
        }
    </style>
</head>
<body>
<div class="app-shell">
    <header class="header">
        <div class="header-left">
            <div class="flag" aria-label="Flag of the United States">
                <div class="flag-stripe"></div>
                <div class="flag-stripe"></div>
                <div class="flag-stripe"></div>
                <div class="flag-stripe"></div>
                <div class="flag-stripe"></div>
                <div class="flag-stripe"></div>
                <div class="flag-canton">
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                    <div class="flag-star"></div>
                </div>
            </div>
            <div class="header-text">
                <h1>US State Data Breach Rules</h1>
                <p>
                    Select a state to view personal information definitions, breach
                    triggers, and notification timelines.
                </p>
            </div>
        </div>
        <div class="header-right"></div>
    </header>

    <main class="content">
        <!-- Left: States -->
        <section class="states-panel">
            <div class="panel-header">
                <h2>States</h2>
                <span
                >Tap a state to view its cybersecurity and breach notification
							rules.</span
                >
            </div>
            <div class="state-search">
                <span class="state-search-icon">üîç</span>
                <input
                        id="stateSearch"
                        type="text"
                        placeholder="Filter by name or code (CA, Texas, NY)..."
                        autocomplete="off"
                />
                <div
                        id="autocompleteList"
                        class="autocomplete-dropdown hidden"
                ></div>
            </div>
            <div class="map-controls">
                <div class="toggle-row">
                    <span class="toggle-label">Threat Heatmap</span>
                    <label class="switch">
                        <input type="checkbox" id="heatmapToggle" />
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="legend-pills" id="heatmapLegend">
                    <div class="legend-pill" title="timeline that must be done 'as soon as possible'">
                        <div class="dot dnow"></div>
                        Immediate
                    </div>
                    <div class="legend-pill" title="timeline with (<30 days)">
                        <div class="dot d30"></div>
                        30 Days
                    </div>
                    <div class="legend-pill" title="timeline with (<45 days)">
                        <div class="dot d45"></div>
                        45 Days
                    </div>
                    <div class="legend-pill" title="timeline with (<60 days)">
                        <div class="dot d60"></div>
                        60 Days
                    </div>
                    <div class="legend-pill" title="timeline with 'Unreasonable Delay'">
                        <div class="dot dreasonable"></div>
                        Reasonable timeline
                    </div>
                </div>
            </div>
            <div class="map-container">
                <svg     class="us-map"
                         viewBox="440 430 550 420"
                         aria-label="Map of the United States">
                        <a href="#" id="GU">
                        	<title>Guam</title>
                        	<path data-id="GU" class="land" d="M904.12,823.32L904.89,823.06L906.4,821.17L906.1,820.53L907.3,819.96L907.98,819.5L908.99,818.74L909.68,816.73L909.88,814.39L909.89,812.79L909.25,812.29L909.99,811.66L909.83,808.09L910.51,805.44L911.78,803.33L911.81,802.23L912.51,801.4L913.72,801.61L914.85,800.04L916.1,799.63L917.86,797.59L919.38,797L921.36,794.54L923.6,793.19L924.3,791.74L924.91,791.17L927.16,790.25L928.28,788.55L929.47,784.87L930.16,783.66L930.79,781.66L930.87,780.5L927.8,780.61L926.07,780.37L925.03,778.29L923.6,777.1L923.29,775.95L921.12,774.25L919.73,774.15L919.08,774.7L917.47,777.82L917.13,778.97L917.21,781.39L916.52,783.13L916.05,783.54L913.64,787.92L913.39,789.61L913.62,790.58L913.26,791.32L912.19,791.77L910.84,791.46L909.8,792.11L909.5,792.91L910.06,793.93L909.43,794.69L908.8,794.88L907.67,794.63L907.01,795.17L904.84,794.81L903.67,795.58L902.91,795.4L901.71,796.27L900,796.78L899.3,799.2L897.75,799.08L897.74,799.93L898.45,800.21L897.94,802.41L897.35,801.27L897.37,799.57L895.33,799.46L893.62,798.82L892.44,798.91L892.49,799.71L894.13,800.76L894.74,802.16L896.65,803.64L897.06,804.81L897.01,805.66L896.05,806.48L895.3,809.86L894.22,811.59L895.11,811.79L896.54,814.7L896.26,815.47L896.42,816.16L897.04,816.52L896.52,818.54L897.19,820.12L898.75,821.94L902.28,823.16L903.03,823.2z"/>
                    	</a>
                        <a href="#" id="PR">
                        	<title>Puerto Rico</title>
                        	<path data-id="PR" class="land" d="M793.42,798.29l2.96,0.73l0.49,-0.24l0.69,0.49l-2.59,0.81l-0.92,-0.45l-0.24,0.37l-2.27,0.91l-0.96,-0.35l-2.04,0.52l-0.75,-0.26l-0.39,-0.47l0.02,-0.6l4.31,-0.95l0.19,-0.37L793.42,798.29zM795.23,791.85l0.65,0.78l0.25,-0.34l1.25,0.24l0.72,0.45l0.21,0.5l-0.61,0.48l-0.55,-0.56l-0.72,-0.14l0.69,0.7l-0.24,0.42l-1.44,-1.5l-0.49,-0.95L795.23,791.85zM737.91,786.19l2.38,0.16l1.28,0.68l2.19,0.26l1.48,-0.3l1.25,0.18l1.32,-0.2l1.55,0.65l1.05,0.08l0.26,-0.39l0.77,-0.25l1.64,-0.14l1.48,0.36l0.73,-0.22l1.13,0.19l2.19,0.55l0.64,-0.62l1.27,-0.27l3.75,0.79l0.48,-0.32l1.62,0.51l1.13,-0.14l0.47,0.65l1.05,-0.48l0.44,-0.29l2.84,0.64l0.47,0.36l0.75,-0.05l0.32,-0.52l2.17,0.54l0.72,-0.3l0.85,0.54l1.34,0.19l0.7,0.77l0.81,-0.43l0.62,0.28v0.46l0.76,0.57l0.25,0.13l0.63,-0.34l0.73,0.75l1.19,0.18l0.59,-0.64l0.87,-0.25l-0.04,0.75l-0.56,0.69l0.32,0.49l0.05,0.94l0.02,0.85l0.51,0.97l0.64,0.81l-0.72,0.57l-0.64,0.37l-1.06,-0.24l-0.86,0.39l-0.75,0.22l-0.7,0.27l-1.44,1.78l-0.61,2.23l-1.31,0.39l0.26,0.75l-0.18,0.67l-0.74,0.24l-0.91,0.61l-1.08,0.41l-2.06,0.25l-0.92,-0.45l-0.49,0.14l-0.79,0.84l-1.01,-0.51l-2.65,1.35l-0.5,-0.63l-1.05,-0.57l-0.87,0.55l-0.2,0.7l-1.63,-0.54l-1.11,-1.26l-1.32,0.36l-0.77,1.06l-2.55,-1.83l-1.31,0.1l-2.55,0.92l-1.45,-0.75l-1.48,0.57l-1.73,-0.88l-0.77,0.09l-1.27,0.58l-1.58,0.77l-1.17,-0.08l-1.21,0.06l-0.33,0.6l-0.16,0.23l-1.1,-0.14l-1.52,-1.39l-1.33,0.11l-0.55,-0.25l-1.41,1.01l-1.8,-0.28l-0.67,-0.38l-0.41,0.42l0.3,0.7l-0.38,-0.01l-0.67,-0.67l-0.01,-1.18l0.28,-0.45l0.98,-0.33l0.15,-0.45l-1.23,-0.51l0.25,-1.52l0.66,-1.01l-0.16,-0.84l0.04,-1.04l1.07,-1.32l-0.68,-0.76l-0.62,-2.06l-1.39,-0.44l-1.19,-2.19l1.95,-0.7l1.69,-1.03l0.17,-0.69l-0.46,-1.13l0.14,-0.71l0.87,-0.69L737.91,786.19z"/>
                    	</a>
                        <a href="#" id="VI">
                        	<title>US Virgin Islands</title>
                        	<path data-id="VI" class="land" d="M851.52,816.23l-1.47,1.33l-2.04,-0.31l-1.94,0.33l-2.98,1.22l-1.02,-0.61l-1.95,-0.09l-1.23,0.36l-1.17,0.78l-0.51,0.08l-0.17,-0.36l0.01,-0.44l0.69,-0.54l0.29,-0.97l0.42,-0.37l0.27,-0.99l-0.76,-2.64l0.04,-1.08l1.58,-1.79l0.53,-0.08l2.76,0.81l1.81,-0.51l0.71,-0.92l1.25,-0.01l1.41,-0.66l2.08,0.76l0.94,0.56l0.03,-0.93l0.91,0.32l0.43,1.31l0.88,0.23l1.5,1.25l1.78,-0.32l1.77,-0.91l0.83,0.12l0.82,-0.28l1.71,0.4l1.71,-0.26l0.74,0.32l3.62,-0.08l0.59,0.43l-0.78,0.74l-2.53,0.07l-1.04,1.07l-2.56,1.05l-1.72,0.26l-2.34,1.23l-2.2,0.3l-1.13,0.47l-0.76,-0.45l-1.14,0.05L851.52,816.23zM827.04,781.08l0.38,0.23l1.32,-0.83h0.55l1.28,0.69l0.51,1.15l0.34,-0.27l0.25,0.14l0.09,0.83l0.63,-0.28l0.47,-0.83l2.13,-0.46l0.72,0.5l-0.21,0.41l0.17,1.01l1.78,0.92l1.1,-0.18l1.36,0.92l-0.25,-0.92l-0.43,-0.32l1.32,-0.41l1.15,0.09l0.97,0.74l0.04,-0.41l0.72,-0.18l0.09,-0.78l-1.4,0.09l-0.09,-0.18l0.6,-0.37l-0.08,-0.23l-1.02,-0.55l-1.02,-1.06l-4.2,-1.71l-2.34,-1.42l1.53,1.61l-0.42,0.73l-1.19,-0.69l-0.76,-0.92l-0.34,0.46l-2.76,-0.18l-0.77,0.18l-0.38,0.78l-0.77,-0.5l-0.38,0.41l-2.17,0.32l-0.34,0.51l-0.51,0.18l1.15,1.06L827.04,781.08zM832.68,784.66l0.17,-1.15l0.64,-0.27l0.42,0.42l-0.34,-1.15l-1.57,1.51l0.3,0.74L832.68,784.66zM855.9,785.3l0.11,-2.46l-0.14,-0.38l-1.06,-0.83l-0.25,-0.6l0.17,-0.18l0.63,0.65l0.39,-0.41l0.13,-0.82l0.76,-0.14l-0.09,0.96l1.23,-0.13l0.55,0.55l-0.3,0.69l0.59,0.28l0.94,-1.1l-0.21,-0.37l-0.55,-0.33l-0.93,0.04l-1.23,-1.29l-0.97,0l-0.93,-0.55l-1.23,0.09l-0.89,-0.46l-0.96,-0.09l-0.27,0.32l0.64,0.55l-0.38,0.6l-1.78,0.13l-1.36,0.64l-0.29,-0.42l-0.26,0.14l0,0.87l-0.93,0.5l0.08,1.38l1.23,1.15l0.81,-0.78l0.85,-0.14l0.38,0.46l1.23,-0.78l1.06,0.75l1.15,-0.2l0.17,0.69l0.42,0.32l0.98,-0.04l0.34,0.96L855.9,785.3z"/>
                    	</a>
                        <a href="#" id="AK">
                        	<title>Alaska</title>
                        	<path data-id="AK" class="land" d="M517.54,701.07l2.66,5.08l1.63,-2.17l6.22,0.67l-0.22,2.56l5.63,1.88l3.75,-1.1l7.76,3.46l7.08,1.02l2.83,1.4l4.9,-1.75l5.58,3.23l4,1.49l0,0l-0.02,36.3l-0.02,46.52l3.63,0.22l3.58,2.04l2.57,3.2l3.27,4.72l3.58,-4.01l3.7,-2.35l1.95,3.75l2.48,2.93l3.37,3.18l2.3,4.98l3.76,7.72l6.26,4.21l0.1,4.1l-2.05,3.09l-2.02,-2.41l-3.24,-2.06l-1.04,-5.72l-4.75,-5.42l-1.98,-6.48l-3.53,-0.45l-5.85,-0.17l-4.31,-2.01l-7.61,-7.41l-3.52,-1.38l-6.44,-2.62l-5.1,0.63l-7.24,-3.4l-4.38,-3.2l-4.09,1.59l0.76,5.16l-2.03,0.47l-4.26,1.53l-3.24,2.44l-4.08,1.53l-0.53,-4.26l1.66,-7.26l3.91,-2.33l-1.01,-1.91l-4.69,4.23l-2.51,4.95l-5.3,5.18l2.69,3.48l-3.48,5.05l-3.96,2.9l-3.68,2.09l-0.91,3l-5.75,3.46l-1.16,3.1l-4.31,2.79l-2.53,-0.5l-3.44,1.81l-3.74,2.19l-3.06,2.13l-6.32,1.81l-0.58,-1.06l4.03,-2.98l3.6,-1.99l3.92,-3.56l4.57,-0.74l1.81,-2.71l5.1,-4.01l0.82,-1.36l2.72,-2.41l0.64,-5.25l1.87,-4.17l-4.24,2.15l-1.19,-1.22l-1.99,2.56l-2.4,-3.58l-0.99,2.54l-1.38,-3.54l-3.68,2.85l-2.26,-0.01l-0.32,-4.24l0.67,-2.65l-2.37,-2.6l-4.79,1.4l-3.11,-3.45l-2.52,-1.79l-0.02,-4.27l-2.84,-3.26l1.42,-4.47l3,-4.42l1.31,-4.14l2.98,-0.6l2.53,1.3l2.97,-3.95l2.67,0.71l2.81,-2.57l-0.68,-3.83l-2.06,-1.53l2.72,-3.31l-2.26,0.1l-3.91,1.87l-1.12,1.88l-2.9,-1.88l-5.21,0.96l-5.39,-2.05l-1.55,-3.48l-4.66,-5.13l5.17,-3.76l8.21,-4.47h3.03l-0.5,4.57l7.77,-0.35l-2.99,-5.7l-4.53,-3.57l-2.62,-4.78l-3.53,-4.16l-5.06,-3.13l2.06,-5.29l6.53,-0.33l4.65,-4.71l0.88,-5.14l3.76,-5.14l3.59,-1.25l6.98,-4.93l3.38,0.75l5.67,-6.05L517.54,701.07zM456.2,772.37l2.27,1.58l2.29,-0.85l2.98,2.18l3.66,1.1l-0.3,0.89l-2.79,1.72l-2.8,-1.77l-1.4,-1.48l-3.24,0.48l-0.88,-0.72L456.2,772.37zM478.85,802.58l-2.26,1.14l-2.41,-1.37l-2.23,-2l3.63,-1.27l2.92,0.67L478.85,802.58zM525.13,822.25l-3.68,2.57l-1.88,-1.73l-0.57,-3.18l3.34,-2.44l1.97,-1.05l2.44,0.47l1.56,2.14L525.13,822.25z"/>
                    	</a>
                        <a href="#" id="AL">
                        	<title>Alabama</title>
                        	<path data-id="AL" class="land" d="M812.63,622.5L815.08,636.62L817.31,647.78L818.66,651.26L819.49,653.25L817.93,655.2L817.4,658.71L817.91,660.79L817.68,662.74L817.42,664.54L818.02,665.94L818.48,667.23L799.24,667.29L793.85,667.92L793.7,668.75L795.85,671.4L795.35,673.55L794.67,675.04L786.3,673.84L786,657.09L787.66,639.27L789.34,624.56L788.66,622.35L800.52,622.35z"/>
                    	</a>
                        <a href="#" id="AR">
                        	<title>Arkansas</title>
                        	<path data-id="AR" class="land" d="M774.56,610.54L774.46,611.5L773.5,613.14L771.85,614.26L771.48,616.17L769.99,617.69L770.1,621.03L769.03,622.1L768.85,623.01L767.16,623.87L767.13,625.52L765.87,628.58L764.78,629.22L763.11,630.77L762.11,633.11L760.05,637.05L759.84,639.72L760.93,642.67L760.47,644.88L752.5,644.5L742.2,644.87L733.09,644.86L733.63,638.48L731.45,638.44L729.62,638.59L729.13,637.85L729.4,627.93L729.59,616.79L727.72,604.51L739.19,604.68L749.62,604.71L759.57,604.72L770.32,605.43L771.1,606.88L770.04,608.13L768.98,609.38L768.4,610.54z"/>
                    	</a>
                        <a href="#" id="AZ">
                        	<title>Arizona</title>
                        	<path data-id="AZ" class="land" d="M591.76,599.13L591.77,663.4L573.1,663.46L551.59,655.69L537.35,650.29L538.22,648.15L539.47,648.16L540.51,645.93L538.84,644.39L538.51,642.71L538.02,640.73L539.86,638.14L540.61,632.97L543.47,630.64L541.68,628.46L540.46,626.31L539.68,624.31L539.16,622.76L538.97,621.73L539.55,619.48L539.09,617.22L538.89,614.99L538.9,612.5L538.06,610.91L538.7,609.48L540.69,609.48L542.49,610.3L543.78,610.76L544.4,608.99L544.81,608.6L544.74,599.2L559.95,599.02L578.08,599.04z"/>
                    	</a>
                        <a href="#" id="CA">
                        	<title>California</title>
                        	<path data-id="CA" class="land" d="M488.45,538.31L488.44,575.34L506.23,591.52L523.14,607.06L538.97,621.73L539.16,622.76L539.68,624.31L540.46,626.31L541.68,628.46L543.47,630.64L540.61,632.97L539.86,638.14L538.02,640.73L538.51,642.71L538.84,644.39L540.51,645.93L539.47,648.16L538.22,648.15L526.25,649.32L515.53,650.18L514.39,646.07L510.39,640.27L500.33,633.52L496.53,633.1L492.44,629.53L484.98,628.66L482.57,626.82L481.42,620.54L472.27,608.93L464.42,592.61L464.75,589.86L460.59,585.93L453.3,575.87L451.99,565.97L446.97,559.27L449.03,548.99L448.7,538.22z"/>
                    	</a>
                        <a href="#" id="CO">
                        	<title>Colorado</title>
                        	<path data-id="CO" class="land" d="M657.73,563.1L657.83,581.79L657.82,599.22L648.74,599.18L637.45,599.17L621.42,599.16L606.52,599.13L591.76,599.13L591.68,550.73L601.14,550.73L610.58,550.73L629.47,550.71L638.92,550.71L657.75,550.71L657.73,562.71z"/>
                    	</a>
                        <a href="#" id="CT">
                        	<title>Connecticut</title>
                        	<path data-id="CT" class="land" d="M943.01,538.05L943.09,544.93L942.51,546.76L938.35,547.39L932.87,548.01L925.51,550.94L925.17,549.42L927.22,548.21L926.48,547.14L927.01,537.52L934.23,537.76z"/>
                    	</a>
                        <a href="#" id="DC">
                        	<title>Washington, DC</title>
                        	<path data-id="DC" class="land" d="M893.59,577.83L893.64,577.12L892.85,576.08L893.62,575.5L894.81,576.75z"/>
                    	</a>
                        <a href="#" id="DE">
                        	<title>Delaware</title>
                        	<path data-id="DE" class="land" d="M909.02,565.62L907.62,566.89L907.86,569.24L909.83,575.77L912.39,581.92L906.1,581.92L905.41,566.5L906.14,565.53L906.99,564.98z"/>
                    	</a>
                        <a href="#" id="FL">
                        	<title>Florida</title>
                        	<path data-id="FL" class="land" d="M851.63,670.08L852.86,678.02L856.45,686.87L860.69,694.9L860.69,699.05L864.79,709.89L865.19,719.26L863.23,728.27L859.28,730.1L854.63,728.84L853.14,724.29L849.56,721.89L844.56,712.89L839.94,705.2L839.08,700.1L840.7,693.61L838.53,687.62L832.4,681.16L827.02,677.04L816.41,681.59L814.24,678.56L805.33,673.67L794.67,675.04L795.35,673.55L795.85,671.4L793.7,668.75L793.85,667.92L799.24,667.29L818.48,667.23L819.92,670.17L829.4,670.68L844.69,672.31L845.39,674.21L846.61,673.24L846.63,669.45L847.77,669.08L849.64,669.88z"/>
                    	</a>
                        <a href="#" id="GA">
                        	<title>Georgia</title>
                        	<path data-id="GA" class="land" d="M836.67,622.58L835.64,623.53L834.13,625.7L836.67,627.59L838.31,628.29L840.07,631.88L841.19,633.89L844.47,636.57L845.12,637.98L847.36,639.81L848.46,642.49L851.47,644.75L852.14,647.3L852.7,648.54L852.38,649.36L854.14,650.58L855.06,652.66L855.05,654.77L855.91,655.18L857.53,655.75L853.43,663.83L851.63,670.08L849.64,669.88L847.77,669.08L846.63,669.45L846.61,673.24L845.39,674.21L844.69,672.31L829.4,670.68L819.92,670.17L818.48,667.23L818.02,665.94L817.42,664.54L817.68,662.74L817.91,660.79L817.4,658.71L817.93,655.2L819.49,653.25L818.66,651.26L817.31,647.78L815.08,636.62L812.63,622.5L819.91,622.61L824.94,622.49z"/>
                    	</a>
                        <a href="#" id="HI">
                        	<title>Hawaii</title>
                        	<path data-id="HI" class="land" d="M623.7,739.77l-1.43,1.28l-1.81,-0.44l-2.21,-1.74l0.77,-1.29l1.8,-1.09l2.78,0.05l0.58,0.86L623.7,739.77zM643.57,746.53l1.05,1.96l-2,0.51l-1.26,-0.94l-0.69,0.18l-0.28,0.14l-1.58,-0.03l-1.99,-3.49l1.84,-0.2l1.96,-1.32l1.63,3.01L643.57,746.53zM655.91,750.48l-1.81,1.29l-5.27,-0.73l0.49,-1.53L655.91,750.48zM657.46,752.06l1.52,1.56l2.24,-0.48l3.17,2.07l0.06,1.01l-1.15,0.91l-3.69,0.51l-0.87,-2.55l-1.66,-0.27l-1.01,-1.66l0.5,-0.98L657.46,752.06zM670.32,777l-1.11,1.87l-3.13,-1.37l-0.12,-4.02l-1.93,-4.74l2.79,-3.42l-0.89,-1.99l0.23,-1.2l0.52,-0.21l7.75,3.65l1.38,1.54l0.25,1.65l0.94,0.21l0.45,1.13l1.82,1.55l-3.05,2.65l-3.14,0.76L670.32,777z"/>
                    	</a>
                        <a href="#" id="IA">
                        	<title>Iowa</title>
                        	<path data-id="IA" class="land" d="M759.79,519L759.93,519.71L761.16,521.76L760.31,522.74L760.34,525.44L760.73,526.59L761.33,528.62L764.41,529.85L765.33,531.8L765.88,532.77L766.99,533.42L767.44,534.79L768.93,535.81L769.9,536.9L769.4,540.3L767.65,543.15L767.02,544.05L764.86,544.78L761.63,545.39L760.78,547.55L761.95,548.52L762.35,550.45L761.12,552.6L760.49,554.49L758.08,556.33L757.89,558.58L756.59,557.55L754.79,555.55L744.48,555.82L733.63,555.91L725.18,555.93L716.71,555.92L716.09,553.68L716.35,551.46L716.15,549.31L715.18,545.71L714.55,544.21L713.88,543.8L713.8,540.89L713.21,538.8L711.5,536.42L711.52,535.37L710.92,533.27L710.5,532.01L710.51,530.84L708.98,529.42L709.74,527.32L710.23,525.26L710.46,523.87L709.25,522.15L709.26,519L710.52,518.99L720.83,519.01L733.64,518.84L747.42,518.76z"/>
                    	</a>
                        <a href="#" id="ID">
                        	<title>Idaho</title>
                        	<path data-id="ID" class="land" d="M572.52,505.87L572.86,506.11L572.85,538.19L544.71,538.3L516.47,538.21L516.61,515.16L517.43,511.45L516.67,509.74L514.9,508.86L514.92,506.75L516.25,503.76L518.28,501.14L519.63,496.85L520.9,493.4L521.85,491.66L521.35,489.62L519.77,488.52L517.54,485.92L517.62,483.51L516.76,481.44L516.49,462.23L516.44,444.17L525.71,444.15L526.47,459.04L528.96,462.76L528.95,465.27L530.7,467.49L532.88,468.8L534.45,470.95L537.08,475.2L539.51,477.19L542.35,477.32L541.31,480.35L540.4,483.93L541.19,487.41L540.09,488.28L540.19,491.73L541.87,493.06L543.73,491.46L544.69,489.57L545.84,489.94L546.97,491.79L548.05,496.02L549.72,497.68L550.32,501.16L550.89,502.12L552.81,502.45L553.97,504.37L555.64,507.79L557.38,505.97L560.47,506.45L560.72,505.15L566.05,505.97L568.21,505.55L569.55,502.93L570.57,503.29L571.49,505.14z"/>
                    	</a>
                        <a href="#" id="IL">
                        	<title>Illinois</title>
                        	<path data-id="IL" class="land" d="M792.09,531.91L792.09,531.94L792.17,535.25L794.71,541.89L794.71,541.89L794.71,541.89L794.7,556.34L794.69,570.53L793.61,573.91L794.39,574.8L794.89,576.86L794.81,578.48L794.02,579.22L793.34,581.21L791.38,583.82L790.06,587.03L789.76,589.44L789.82,590.32L788.75,591.97L789.56,593.09L787.91,593.95L785.77,594.94L786.13,597.52L784.9,598.49L782.62,597.4L780.11,596.77L779.47,597.91L779.84,599.69L778.16,597.86L777.15,598.17L775.94,595.27L776.29,593.5L775.58,590.63L774.63,590.28L772.16,587.67L771.09,587.62L769.23,585.94L767.89,584.14L768.5,582.04L769.37,580.29L769.9,578.07L768.11,576.13L766.33,576.91L765.25,576.4L765.1,574.38L764.31,572.08L763.44,571.52L761.27,569.89L759.47,567.82L757.91,565.31L757.06,561.64L757.89,558.58L758.08,556.33L760.49,554.49L761.12,552.6L762.35,550.45L761.95,548.52L760.78,547.55L761.63,545.39L764.86,544.78L767.02,544.05L767.65,543.15L769.4,540.3L769.9,536.9L768.93,535.81L767.44,534.79L766.99,533.42L765.88,532.77L765.33,531.8L774.96,531.8L784.8,531.83L792.06,531.94L792.06,531.91z"/>
                    	</a>
                        <a href="#" id="IN">
                        	<title>Indiana</title>
                        	<path data-id="IN" class="land" d="M820.35,542.28L820.32,553.58L820.25,565.57L820.19,574L819.65,574.57L820.42,577.04L820.01,577.93L818.42,577.95L816.95,579.01L814.72,578.58L814.51,580.89L813.19,581.77L811.95,583.83L810.61,584.2L808.54,587.75L806.63,586.73L806.03,585.27L804.39,587.65L803.35,588.97L801.32,587.57L799.14,588.71L798.43,589.86L795.53,588.05L793.5,589.35L791.07,588.43L790.98,589.75L789.76,589.44L790.06,587.03L791.38,583.82L793.34,581.21L794.02,579.22L794.81,578.48L794.89,576.86L794.39,574.8L793.61,573.91L794.69,570.53L794.7,556.34L794.71,541.89L794.71,541.89L795.57,542.74L798.78,542.67L801.33,541.29L801.33,541.29L811.48,541.35L820.35,541.29z"/>
                    	</a>
                        <a href="#" id="KS">
                        	<title>Kansas</title>
                        	<path data-id="KS" class="land" d="M727.78,599.13L719.5,599.14L702.53,599.16L685.55,599.18L676.12,599.2L666.69,599.21L657.82,599.22L657.83,581.79L657.73,563.1L657.75,563.1L674.23,563.1L686.5,563.1L708.19,563.1L721.18,563.1L723.42,564.73L724.64,564.71L724.91,566.48L723.59,568.74L724.3,569.9L725.47,572.45L727.95,573.6L727.85,586.47z"/>
                    	</a>
                        <a href="#" id="KY">
                        	<title>Kentucky</title>
                        	<path data-id="KY" class="land" d="M841.27,582.32L841.45,583.46L841.35,585.94L842.47,587.8L842.93,589.61L844.3,591.15L845.25,592.58L847.08,592.8L843.31,596.32L840.37,597.7L840.14,598.65L839.13,599.89L836.55,601.29L835.71,602.43L833.77,603.16L831.04,603.82L824.66,604.2L816.35,603.7L813.64,603.84L808.23,603.52L802.71,603.42L797.63,603.36L791.73,603.69L791.42,603.16L789.55,603.18L789.58,605.02L776.11,604.91L778.22,603.68L779.72,602.71L779.54,600.87L779.84,599.69L779.47,597.91L780.11,596.77L782.62,597.4L784.9,598.49L786.13,597.52L785.77,594.94L787.91,593.95L789.56,593.09L788.75,591.97L789.82,590.32L789.76,589.44L790.98,589.75L791.07,588.43L793.5,589.35L795.53,588.05L798.43,589.86L799.14,588.71L801.32,587.57L803.35,588.97L804.39,587.65L806.03,585.27L806.63,586.73L808.54,587.75L810.61,584.2L811.95,583.83L813.19,581.77L814.51,580.89L814.72,578.58L816.95,579.01L818.42,577.95L820.01,577.93L820.42,577.04L819.65,574.57L820.19,574L823.42,574.28L825.09,575.45L827.6,578.17L829.6,579.03L831.05,580L833.29,579.66L834.95,580.35L836.97,579.69L838.76,579.49L839.51,581.17z"/>
                    	</a>
                        <a href="#" id="LA">
                        	<title>Louisiana</title>
                        	<path data-id="LA" class="land" d="M760.47,644.88L761.15,645.52L760.29,647.13L761.65,649.43L761.27,650.81L762.48,652.72L761.18,653.85L760.74,655.95L758.92,657.67L758.07,659.99L757.21,662.64L756.06,663.87L756.44,666.61L764.76,666.96L773.65,666.98L773.38,668.8L772.75,670.59L773.35,671.97L774.6,673.23L774.93,675.03L775.1,676.11L774.02,680.62L776.96,687.08L763.99,687.51L755.98,685.31L750.54,683.1L743.36,681.7L735.19,681.38L734.42,679.95L735.38,678.36L736.79,676.93L736.82,674.76L736.13,674.04L736.95,671.44L737.55,670.25L738.46,666.25L737.63,664.76L736.54,662.26L735.73,659.71L735.21,658L733.66,656.75L733.09,644.86L742.2,644.87L752.5,644.5z"/>
                    	</a>
                        <a href="#" id="MA">
                        	<title>Massachusetts</title>
                        	<path data-id="MA" class="land" d="M952.31,527.2L952.22,533.97L955.33,540.68L959.24,540.99L958.25,536.38L961.08,539.19L960.33,542.79L953.96,544.82L949.43,544.58L949.17,542.66L947.69,541.21L946.99,537.91L943.01,538.05L934.23,537.76L927.01,537.52L929.04,528.76L936.82,528.97L948.22,529.08L949.19,527.82L951.19,526.95z"/>
                    	</a>
                        <a href="#" id="MD">
                        	<title>Maryland</title>
                        	<path data-id="MD" class="land" d="M905.41,566.5L906.1,581.92L912.39,581.92L912.92,583.01L909.28,587.11L907.09,587.29L906.35,588.1L901.55,582.39L901.15,573.35L899.59,577.6L899.72,587.98L894.08,584.43L893.53,582.74L891.99,583.26L890.74,582.61L891.81,579.93L893.42,578.8L893.59,577.83L894.81,576.75L893.62,575.5L892.85,576.08L891.1,574.74L889.1,574.01L889.8,572.7L888.55,571.79L887.16,571.38L886.42,569.83L885.27,568.09L882.36,567.12L880.54,568.05L879.51,568.95L876.73,568.46L875.46,569.73L873.6,570.22L871.98,571.62L870.53,572.7L870.61,566.53L879.36,566.54L882.35,566.52L889.04,566.47L897.11,566.53z"/>
                    	</a>
                        <a href="#" id="ME">
                        	<title>Maine</title>
                        	<path data-id="ME" class="land" d="M953.91,524.31L952.91,524.44L952.47,522.64L950.74,520.73L951.09,519.45L949.88,495.52L953.77,493.19L957.12,487.07L960,476.48L967.19,466.07L970.33,469.71L976.65,467.36L980.84,471.35L980.83,489.94L987,497.5L987.13,503.15L977.95,507.34L968.79,510.43L958.09,518.27z"/>
                    	</a>
                        <a href="#" id="MI">
                        	<title>Michigan</title>
                        	<path data-id="MI" class="land" d="M822.84,478.6L822.84,478.6l3.15,0.42l0,0l-1.2,1.35l4.69,5.41l-8.31,1.22l-0.32,-0.06l-7.42,-1.43l-7.36,2.7l-6.41,1.21l-5.54,8.53l-0.24,-0.09l-0.01,0.02l-1.26,-1.57l0.7,-2.15l-2.08,-0.12l0.43,-2.18l0.57,-1.08l-0.83,-1.89l-2.23,-0.86l-0.52,-2.22l-1.84,-0.17l-2.67,-0.02l-5.44,-2.44l-8.25,-2.43l-0.76,-2.46l-1.48,-0.45l-0.01,-0.04l-0.58,0.28l-0.08,-0.07l0.08,0.07l7.28,-3.49l7.57,-4.47l8.32,-4.59l-3.03,7.3l5.35,1.75l6.64,5.22l8.37,-3.04l9.27,-1.2l1.98,3.83l2.88,0.55L822.84,478.6zM843.01,525.56L843.01,525.56l-0.24,0.17l-4.44,7.03l-2.07,4.45h0l-3.23,4.87l0,0l-3.56,0.11h-4.29l-4.83,0.09l-0.01,-0.99l-8.87,0.06l-10.15,-0.06v0l0,0l1.91,-1.74l3.83,-6.17l0.26,-8.44l-3.13,-7.99l0.47,-5.53l2.46,-6.45l2.35,-4.44l3.77,-3.18l0.88,4.46l1.67,-6.57l2.08,-1.36l1.32,-5.11l8.02,2.69l6.98,5.22l0.77,6.04l-0.86,6.01l-5.19,5.23l0.48,3.28l1.87,0.11l5.85,-5.73l3.49,1.31l1.7,7.54l0.47,5.28L843.01,525.56z"/>
                    	</a>
                        <a href="#" id="MN">
                        	<title>Minnesota</title>
                        	<path data-id="MN" class="land" d="M775.15,458.2L775.15,458.21L765.53,462.83L758.83,468.39L752.43,474.21L752.4,476.23L749.92,476.99L750.02,484.63L749.72,484.62L747.39,486.12L745.38,487.41L744.03,489.89L746.01,492.41L745.3,495.78L745.29,499.38L745,502.3L747.75,504.84L748.88,504.96L751.93,506.84L752.99,507.73L753.65,509.14L756.03,511.39L759.21,513.33L759.52,514.41L759.54,517.54L759.79,519L747.42,518.76L733.64,518.84L720.83,519.01L710.52,518.99L710.65,506.8L709.5,494.09L707.85,493.05L706.92,490.98L707.43,489.15L709.54,487.65L709.7,485.68L709.71,483.22L709.12,481.15L708.33,478.94L707.87,476.16L707.76,473.03L707.44,472.28L707.05,468.22L707.01,466.36L706.83,464.7L706.36,461.87L705.22,458.99L704.12,456.42L703.96,453.85L703.84,451.08L704.16,449.27L704.22,447.61L703.34,445.55L703.2,444.14L722.72,444.16L722.75,438.63L725.94,438.55L727.61,446.44L730.55,448.86L737.14,449.73L746.76,452L755.91,456.38L763.55,454.54L775.15,458.2z"/>
                    	</a>
                        <a href="#" id="MO">
                        	<title>Missouri</title>
                        	<path data-id="MO" class="land" d="M757.89,558.58L757.06,561.64L757.91,565.31L759.47,567.82L761.27,569.89L763.44,571.52L764.31,572.08L765.1,574.38L765.25,576.4L766.33,576.91L768.11,576.13L769.9,578.07L769.37,580.29L768.5,582.04L767.89,584.14L769.23,585.94L771.09,587.62L772.16,587.67L774.63,590.28L775.58,590.63L776.29,593.5L775.94,595.27L777.15,598.17L778.16,597.86L779.84,599.69L779.54,600.87L779.72,602.71L778.22,603.68L776.11,604.91L775.86,606.04L775.29,607.7L774.56,610.54L768.4,610.54L768.98,609.38L770.04,608.13L771.1,606.88L770.32,605.43L759.57,604.72L749.62,604.71L739.19,604.68L727.72,604.51L727.83,599.13L727.78,599.13L727.85,586.47L727.95,573.6L725.47,572.45L724.3,569.9L723.59,568.74L724.91,566.48L724.64,564.71L723.42,564.73L721.18,563.1L719.95,560.47L718.49,558.89L716.9,556.94L716.71,555.92L725.18,555.93L733.63,555.91L744.48,555.82L754.79,555.55L756.59,557.55z"/>
                    	</a>
                        <a href="#" id="MS">
                        	<title>Mississippi</title>
                        	<path data-id="MS" class="land" d="M788.66,622.35L789.34,624.56L787.66,639.27L786,657.09L786.3,673.84L780.52,676.28L775.1,676.11L774.93,675.03L774.6,673.23L773.35,671.97L772.75,670.59L773.38,668.8L773.65,666.98L764.76,666.96L756.44,666.61L756.06,663.87L757.21,662.64L758.07,659.99L758.92,657.67L760.74,655.95L761.18,653.85L762.48,652.72L761.27,650.81L761.65,649.43L760.29,647.13L761.15,645.52L760.47,644.88L760.93,642.67L759.84,639.72L760.05,637.05L762.11,633.11L763.11,630.77L764.78,629.22L765.87,628.58L767.13,625.52L767.16,623.87L768.85,623.01L769.03,622.1L778.32,622.1z"/>
                    	</a>
                        <a href="#" id="MT">
                        	<title>Montana</title>
                        	<path data-id="MT" class="land" d="M639.09,486.51L638.61,498.79L622.88,498.65L605.89,498.72L591.22,498.58L572.65,498.67L572.69,505.4L572.52,505.87L571.49,505.14L570.57,503.29L569.55,502.93L568.21,505.55L566.05,505.97L560.72,505.15L560.47,506.45L557.38,505.97L555.64,507.79L553.97,504.37L552.81,502.45L550.89,502.12L550.32,501.16L549.72,497.68L548.05,496.02L546.97,491.79L545.84,489.94L544.69,489.57L543.73,491.46L541.87,493.06L540.19,491.73L540.09,488.28L541.19,487.41L540.4,483.93L541.31,480.35L542.35,477.32L539.51,477.19L537.08,475.2L534.45,470.95L532.88,468.8L530.7,467.49L528.95,465.27L528.96,462.76L526.47,459.04L525.71,444.15L553.9,444.13L582.09,444.11L610.27,444.09L638.47,444.07L638.61,469.9z"/>
                    	</a>
                        <a href="#" id="NC">
                        	<title>North Carolina</title>
                        	<path data-id="NC" class="land" d="M904.66,604.39L905.98,616.01L899.98,624.53L890.73,628.92L882.66,634.64L879.32,635.3L868.77,624.54L858.3,624.43L858.32,623.1L856.85,621.16L855.9,621.92L855.82,620.9L851.41,620.37L842.71,620.28L837.62,622.24L836.67,622.58L824.94,622.49L825.15,620.06L827.14,619.34L827.79,618.1L829.13,616.71L831.04,616.4L833.26,615.87L835.42,614.87L836.35,613.85L838.15,612.93L838.1,612.09L840.47,610.52L841.23,611.54L844.71,609.35L846.34,609.58L847.79,607.62L849.71,607.12L849.61,605.45L849.85,603.99L865.76,604.49L884.55,604.55L894.53,604.45z"/>
                    	</a>
                        <a href="#" id="ND">
                        	<title>North Dakota</title>
                        	<path data-id="ND" class="land" d="M703.2,444.14L703.34,445.55L704.22,447.61L704.16,449.27L703.84,451.08L703.96,453.85L704.12,456.42L705.22,458.99L706.36,461.87L706.83,464.7L707.01,466.36L707.05,468.22L707.44,472.28L707.76,473.03L707.87,476.16L708.33,478.94L709.12,481.15L709.71,483.22L709.7,485.68L691.76,486.42L676.44,486.39L657.1,486.45L639.09,486.51L638.61,469.9L638.47,444.07L671.13,444.11z"/>
                    	</a>
                        <a href="#" id="NE">
                        	<title>Nebraska</title>
                        	<path data-id="NE" class="land" d="M710.5,532.01L710.92,533.27L711.52,535.37L711.5,536.42L713.21,538.8L713.8,540.89L713.88,543.8L714.55,544.21L715.18,545.71L716.15,549.31L716.35,551.46L716.09,553.68L716.71,555.92L716.9,556.94L718.49,558.89L719.95,560.47L721.18,563.1L708.19,563.1L686.5,563.1L674.23,563.1L657.75,563.1L657.73,563.1L657.73,562.71L657.75,550.71L638.92,550.71L638.85,525.47L657.26,525.47L671.41,525.47L690.32,525.47L692.76,527.09L696.23,528.11L697.04,527.52L699.28,527.57L702.65,527.44L705.09,529.09L707.68,530.16L708.11,531.22L708.91,531.83z"/>
                    	</a>
                        <a href="#" id="NH">
                        	<title>New Hampshire</title>
                        	<path data-id="NH" class="land" d="M953.91,524.31L952.31,527.2L951.19,526.95L949.19,527.82L948.22,529.08L936.82,528.97L936.07,527.64L936.81,525.98L937.04,522.6L937.33,521.79L937.65,518.73L938.68,516.14L939.46,515.01L940.58,511.91L940.79,509.81L941.11,508.53L942.93,507.9L945.04,506.37L945.41,504.73L944.71,502.84L945.82,499.23L945.8,499.22L946.75,495.94L949.88,495.52L951.09,519.45L950.74,520.73L952.47,522.64L952.91,524.44z"/>
                    	</a>
                        <a href="#" id="NJ">
                        	<title>New Jersey</title>
                        	<path data-id="NJ" class="land" d="M923.1,551.25L919.85,557.29L922.22,557.82L920.59,566.67L913.73,576.02L913.02,572.91L910.95,572.28L908.69,569.1L907.86,569.24L907.62,566.89L909.02,565.62L910.95,564.5L911.63,563.73L913.86,562.11L915.08,560.77L912.11,557.58L911.94,556.27L910.92,555.89L910.96,553.9L912.07,552.38L911.56,550.76L913.07,549.67L914.72,546.87L915.87,546.32z"/>
                    	</a>
                        <a href="#" id="NM">
                        	<title>New Mexico</title>
                        	<path data-id="NM" class="land" d="M648.74,599.18L648.76,604.99L648.76,635.09L648.76,656.13L640,656.13L623.03,656.13L614.54,656.13L614.64,657.07L615.69,658.84L599.46,658.84L599.34,663.38L591.77,663.4L591.76,599.13L606.52,599.13L621.42,599.16L637.45,599.17z"/>
                    	</a>
                        <a href="#" id="NV">
                        	<title>Nevada</title>
                        	<path data-id="NV" class="land" d="M544.71,538.3L544.74,599.2L544.81,608.6L544.4,608.99L543.78,610.76L542.49,610.3L540.69,609.48L538.7,609.48L538.06,610.91L538.9,612.5L538.89,614.99L539.09,617.22L539.55,619.48L538.97,621.73L523.14,607.06L506.23,591.52L488.44,575.34L488.45,538.31L516.47,538.25L516.47,538.21z"/>
                    	</a>
                        <a href="#" id="NY">
                        	<title>New York</title>
                        	<path data-id="NY" class="land" d="M929.04,528.76L927.01,537.52L926.48,547.14L927.22,548.21L925.17,549.42L925.51,550.94L938.86,549.27L941.66,551.63L928.45,555.35L922.44,555.38L923.1,551.25L915.87,546.32L914.35,545.43L912.74,544.56L912.13,542.74L912.38,541.35L911.26,540.21L909.21,538.23L896.4,538.21L882.66,538.21L867.95,538.21L867.95,534.78L876.06,527.18L875.88,525.95L875.88,525.92L874.59,522.2L879.5,520.57L886.92,521.05L894.64,522.12L901.71,517.85L901.15,512.78L900.08,510.75L900.05,510.73L900.05,510.73L900.08,510.75L909.84,501.77L914.1,499.33L928.43,499.24L928.23,501.93L927.86,503.63L928.08,507.54L928.6,509.54L927.65,512.25L928.52,515.66L927.92,517.55L928.09,518.04L929.44,518.14z"/>
                    	</a>
                        <a href="#" id="OH">
                        	<title>Ohio</title>
                        	<path data-id="OH" class="land" d="M860.79,555.21L859.49,555.84L859.88,557.41L859.45,560.24L858.47,563.44L857.56,566.08L857.4,567.34L854.83,570.12L853.75,570.71L852.47,571.05L851.33,570.78L849.23,572.87L848.85,575.05L848.55,576.23L847.71,576.71L847.59,575.36L846.32,575.07L844.99,577.69L844.84,580.35L843.61,582.02L841.27,582.32L839.51,581.17L838.76,579.49L836.97,579.69L834.95,580.35L833.29,579.66L831.05,580L829.6,579.03L827.6,578.17L825.09,575.45L823.42,574.28L820.19,574L820.25,565.57L820.32,553.58L820.35,542.28L825.18,542.18L829.47,542.18L833.03,542.07L833.03,542.07L833.03,542.07L838.84,544.67L843.55,545.31L850.38,543.65L855.96,540.16L860.81,538.46z"/>
                    	</a>
                        <a href="#" id="OK">
                        	<title>Oklahoma</title>
                        	<path data-id="OK" class="land" d="M727.72,604.51L729.59,616.79L729.4,627.93L729.13,637.85L725.07,635.64L722.42,634.43L720.28,635.2L716.96,635.08L715,635.1L713.39,636.02L711.81,636.49L710.43,635.94L707.28,636.54L705.85,634.66L704.38,636.29L701.81,635.56L699.16,633.8L696.33,634.94L695.09,632.21L690.7,632.48L687.89,631.87L684.73,631.06L683.33,628.7L680.85,629.46L679.31,628.54L677.06,627.31L677.06,616.36L677.06,604.99L667.63,604.99L658.19,604.99L648.76,604.99L648.74,599.18L657.82,599.22L666.69,599.21L676.12,599.2L685.55,599.18L702.53,599.16L719.5,599.14L727.78,599.13L727.83,599.13z"/>
                    	</a>
                        <a href="#" id="OR">
                        	<title>Oregon</title>
                        	<path data-id="OR" class="land" d="M517.54,485.92L519.77,488.52L521.35,489.62L521.85,491.66L520.9,493.4L519.63,496.85L518.28,501.14L516.25,503.76L514.92,506.75L514.9,508.86L516.67,509.74L517.43,511.45L516.61,515.16L516.47,538.21L516.47,538.25L488.45,538.31L448.7,538.22L445.67,531.1L448.53,517.3L449.19,502.52L450.87,482.28L452.83,482.1L455.71,482.16L458,483.4L460.74,484.17L462.49,486.76L462.74,489.02L463.44,490.91L465.62,491.42L467.93,491.38L471.58,489.96L473.72,489.53L477.09,490.11L478.57,490.81L480.55,490.33L482.7,489.25L486.95,489.42L490.45,487.94L492.29,486.84L494.7,487.43L498.08,486.02z"/>
                    	</a>
                        <a href="#" id="PA">
                        	<title>Pennsylvania</title>
                        	<path data-id="PA" class="land" d="M915.87,546.32L914.72,546.87L913.07,549.67L911.56,550.76L912.07,552.38L910.96,553.9L910.92,555.89L911.94,556.27L912.11,557.58L915.08,560.77L913.86,562.11L911.63,563.73L910.95,564.5L909.02,565.62L906.99,564.98L906.14,565.53L905.41,566.5L897.11,566.53L889.04,566.47L882.35,566.52L879.36,566.54L870.61,566.53L860.79,566.53L860.79,555.21L860.81,538.46L860.82,538.46L867.93,534.8L867.95,534.78L867.95,538.21L882.66,538.21L896.4,538.21L909.21,538.23L911.26,540.21L912.38,541.35L912.13,542.74L912.74,544.56L914.35,545.43z"/>
                    	</a>
                        <a href="#" id="RI">
                        	<title>Rhode Island</title>
                        	<path data-id="RI" class="land" d="M949.43,544.58L942.51,546.76L943.09,544.93L943.01,538.05L946.99,537.91L947.69,541.21L949.17,542.66z"/>
                    	</a>
                        <a href="#" id="SC">
                        	<title>South Carolina</title>
                        	<path data-id="SC" class="land" d="M879.32,635.3L875.62,643.21L867.39,650.12L857.53,655.75L855.91,655.18L855.05,654.77L855.06,652.66L854.14,650.58L852.38,649.36L852.7,648.54L852.14,647.3L851.47,644.75L848.46,642.49L847.36,639.81L845.12,637.98L844.47,636.57L841.19,633.89L840.07,631.88L838.31,628.29L836.67,627.59L834.13,625.7L835.64,623.53L836.67,622.58L837.62,622.24L842.71,620.28L851.41,620.37L855.82,620.9L855.9,621.92L856.85,621.16L858.32,623.1L858.3,624.43L868.77,624.54z"/>
                    	</a>
                        <a href="#" id="SD">
                        	<title>South Dakota</title>
                        	<path data-id="SD" class="land" d="M710.52,518.99L709.26,519L709.25,522.15L710.46,523.87L710.23,525.26L709.74,527.32L708.98,529.42L710.51,530.84L710.5,532.01L708.91,531.83L708.11,531.22L707.68,530.16L705.09,529.09L702.65,527.44L699.28,527.57L697.04,527.52L696.23,528.11L692.76,527.09L690.32,525.47L671.41,525.47L657.26,525.47L638.85,525.47L638.61,498.79L639.09,486.51L657.1,486.45L676.44,486.39L691.76,486.42L709.7,485.68L709.54,487.65L707.43,489.15L706.92,490.98L707.85,493.05L709.5,494.09L710.65,506.8z"/>
                    	</a>
                        <a href="#" id="TN">
                        	<title>Tennessee</title>
                        	<path data-id="TN" class="land" d="M831.04,603.82L845.07,604.22L849.85,603.99L849.61,605.45L849.71,607.12L847.79,607.62L846.34,609.58L844.71,609.35L841.23,611.54L840.47,610.52L838.1,612.09L838.15,612.93L836.35,613.85L835.42,614.87L833.26,615.87L831.04,616.4L829.13,616.71L827.79,618.1L827.14,619.34L825.15,620.06L824.94,622.49L819.91,622.61L812.63,622.5L800.52,622.35L788.66,622.35L778.32,622.1L769.03,622.1L770.1,621.03L769.99,617.69L771.48,616.17L771.85,614.26L773.5,613.14L774.46,611.5L774.56,610.54L775.29,607.7L775.86,606.04L776.11,604.91L789.58,605.02L789.55,603.18L791.42,603.16L791.73,603.69L797.63,603.36L802.71,603.42L808.23,603.52L813.64,603.84L816.35,603.7L824.66,604.2z"/>
                    	</a>
                        <a href="#" id="TX">
                        	<title>Texas</title>
                        	<path data-id="TX" class="land" d="M729.13,637.85L729.62,638.59L731.45,638.44L733.63,638.48L733.09,644.86L733.66,656.75L735.21,658L735.73,659.71L736.54,662.26L737.63,664.76L738.46,666.25L737.55,670.25L736.95,671.44L736.13,674.04L736.82,674.76L736.79,676.93L735.38,678.36L734.42,679.95L735.19,681.38L727.14,683.64L718.56,691.6L709.19,696.21L704.04,701.28L701.87,706.04L701.78,713.31L702.25,718.34L704.04,721.89L700.36,722.21L693.66,719.91L686.31,716.67L683.67,711.74L681.59,704.35L676.03,698.31L672.77,692.05L668.04,684.71L661.39,680.41L653.68,680.62L647.73,689.12L639.91,685.9L635.03,682.65L632.69,676.7L629.56,671.02L623.95,666.21L619.13,662.74L615.69,658.84L614.64,657.07L614.54,656.13L623.03,656.13L640,656.13L648.76,656.13L648.76,635.09L648.76,604.99L658.19,604.99L667.63,604.99L677.06,604.99L677.06,616.36L677.06,627.31L679.31,628.54L680.85,629.46L683.33,628.7L684.73,631.06L687.89,631.87L690.7,632.48L695.09,632.21L696.33,634.94L699.16,633.8L701.81,635.56L704.38,636.29L705.85,634.66L707.28,636.54L710.43,635.94L711.81,636.49L713.39,636.02L715,635.1L716.96,635.08L720.28,635.2L722.42,634.43L725.07,635.64z"/>
                    	</a>
                        <a href="#" id="UT">
                        	<title>Utah</title>
                        	<path data-id="UT" class="land" d="M591.68,550.73L591.76,599.13L578.08,599.04L559.95,599.02L544.74,599.2L544.71,538.3L572.85,538.19L572.81,550.41z"/>
                    	</a>
                        <a href="#" id="VA">
                        	<title>Virginia</title>
                        	<path data-id="VA" class="land" d="M901.94,597.1l2.71,7.29l-10.12,0.06l-9.98,0.1l-18.79,-0.06l-15.91,-0.51l-4.78,0.23l-14.02,-0.4l2.72,-0.66l1.94,-0.72l0.84,-1.14l2.58,-1.4l1,-1.24l0.23,-0.95l2.94,-1.38l3.77,-3.52l0.42,2.01l1.06,1.07l1.43,0.95l2.97,-1.42l1.13,0.83l3.52,-0.99l0.2,-1.06l1.07,0.42l1.17,-0.86l1.31,0.17l1.5,-0.91l0.2,-1.08l-0.15,-1.39l1.28,-2.06l1.82,-1.56l0.46,-1.76l1.62,-2.13l0.9,-2.61l1.25,0.93l1.4,0.86l1.35,-0.46l0.45,-1.09l0.93,-1.49l1.05,-1.71l0.68,0.5l1.4,-1.56l1.85,-1.58l1.17,-1.2l0.74,-3.23l4.82,3.29l1.06,-2.28l1.38,0.41l1.25,0.91l-0.69,1.3l1.99,0.73l1.76,1.35l0.78,1.03l-0.04,0.71l-0.17,0.97l-1.61,1.13l-1.07,2.67l1.25,0.65l1.53,-0.52l0.55,1.68l5.94,6.67l1.82,5.66L901.94,597.1zM909.28,587.11l-2.19,0.18l-0.74,0.81l-3.23,8l0.86,0.47L909.28,587.11z"/>
                    	</a>
                        <a href="#" id="VT">
                        	<title>Vermont</title>
                        	<path data-id="VT" class="land" d="M936.82,528.97L929.04,528.76L929.44,518.14L928.09,518.04L927.92,517.55L928.52,515.66L927.65,512.25L928.6,509.54L928.08,507.54L927.86,503.63L928.23,501.93L928.43,499.24L945.8,499.22L945.82,499.23L944.71,502.84L945.41,504.73L945.04,506.37L942.93,507.9L941.11,508.53L940.79,509.81L940.58,511.91L939.46,515.01L938.68,516.14L937.65,518.73L937.33,521.79L937.04,522.6L936.81,525.98L936.07,527.64z"/>
                    	</a>
                        <a href="#" id="WA">
                        	<title>Washington</title>
                        	<path data-id="WA" class="land" d="M516.44,444.17L516.49,462.23L516.76,481.44L517.62,483.51L517.54,485.92L498.08,486.02L494.7,487.43L492.29,486.84L490.45,487.94L486.95,489.42L482.7,489.25L480.55,490.33L478.57,490.81L477.09,490.11L473.72,489.53L471.58,489.96L467.93,491.38L465.62,491.42L463.44,490.91L462.74,489.02L462.49,486.76L460.74,484.17L458,483.4L455.71,482.16L452.83,482.1L450.87,482.28L448.29,470.9L446.73,457.49L459.87,460.04L464.05,470.94L466.38,467.29L464.87,455.81L460.4,444.08L488.42,444.14z"/>
                    	</a>
                        <a href="#" id="WI">
                        	<title>Wisconsin</title>
                        	<path data-id="WI" class="land" d="M767.55,478.01L767.63,478.08L768.22,477.8L768.23,477.84L769.71,478.29L770.47,480.75L778.72,483.18L784.16,485.62L786.83,485.64L788.66,485.82L789.18,488.04L791.41,488.9L792.25,490.78L791.67,491.86L791.24,494.04L793.32,494.16L792.62,496.31L793.88,497.88L793.89,497.86L794.13,497.96L794.04,498.09L790.35,502.87L791.63,504.43L798.56,495.88L799.98,495.83L795.08,506.04L792.95,515.17L791.16,522.5L792.34,528.79L792.09,531.91L792.06,531.91L792.06,531.94L784.8,531.83L774.96,531.8L765.33,531.8L764.41,529.85L761.33,528.62L760.73,526.59L760.34,525.44L760.31,522.74L761.16,521.76L759.93,519.71L759.79,519L759.54,517.54L759.52,514.41L759.21,513.33L756.03,511.39L753.65,509.14L752.99,507.73L751.93,506.84L748.88,504.96L747.75,504.84L745,502.3L745.29,499.38L745.3,495.78L746.01,492.41L744.03,489.89L745.38,487.41L747.39,486.12L749.72,484.62L750.02,484.63L749.92,476.99L752.4,476.23L752.4,476.23L761.85,473.37z"/>
                    	</a>
                        <a href="#" id="WV">
                        	<title>West Virginia</title>
                        	<path data-id="WV" class="land" d="M870.61,566.53L870.53,572.7L871.98,571.62L873.6,570.22L875.46,569.73L876.73,568.46L879.51,568.95L880.54,568.05L882.36,567.12L885.27,568.09L886.42,569.83L887.16,571.38L886.11,573.66L881.29,570.37L880.55,573.6L879.37,574.81L877.53,576.38L876.13,577.94L875.45,577.44L874.4,579.15L873.47,580.64L873.01,581.73L871.66,582.2L870.26,581.34L869.01,580.41L868.1,583.02L866.49,585.15L866.02,586.91L864.2,588.47L862.92,590.52L863.08,591.92L862.87,593L861.38,593.92L860.06,593.75L858.9,594.61L857.83,594.19L857.62,595.25L854.11,596.24L852.97,595.41L850,596.83L848.57,595.88L847.5,594.81L847.08,592.8L845.25,592.58L844.3,591.15L842.93,589.61L842.47,587.8L841.35,585.94L841.45,583.46L841.27,582.32L843.61,582.02L844.84,580.35L844.99,577.69L846.32,575.07L847.59,575.36L847.71,576.71L848.55,576.23L848.85,575.05L849.23,572.87L851.33,570.78L852.47,571.05L853.75,570.71L854.83,570.12L857.4,567.34L857.56,566.08L858.47,563.44L859.45,560.24L859.88,557.41L859.49,555.84L860.79,555.21L860.79,566.53z"/>
                    	</a>
                        <a href="#" id="WY">
                        	<title>Wyoming</title>
                        	<path data-id="WY" class="land" d="M638.61,498.79L638.85,525.47L638.92,550.71L629.47,550.71L610.58,550.73L601.14,550.73L591.68,550.73L572.81,550.41L572.85,538.19L572.86,506.11L572.52,505.87L572.69,505.4L572.65,498.67L591.22,498.58L605.89,498.72L622.88,498.65z"/>
                    	</a>
                </svg>
            </div>
        </section>

        <!-- Right: Details -->
        <section class="details-panel" aria-live="polite">
            <div class="gradient-glow"></div>

            <div class="details-header">
                <div class="details-title-group">
                    <div class="details-title">
                        <span id="detailsStateName">No state selected</span>
                        <span id="detailsStateCode" class="code-badge">US</span>
                    </div>
                    <p class="details-subtitle" id="detailsSubtitle">
                        Click a state on the left to load its statutes and breach
                        notification requirements.
                    </p>
                </div>
            </div>

            <div class="details-filters">
                <div class="details-filters-left">
                    <select id="fieldFilter" class="field-select">
                        <option value="all">Show all fields</option>
                    </select>
                </div>
                <div class="details-search">
                    <span class="details-search-icon">üîç</span>
                    <input
                            id="detailSearch"
                            type="text"
                            placeholder="Search within this state..."
                    />
                </div>
            </div>

            <div class="rules-sections-wrapper">
                <div class="rules-sections" id="rulesSections">
                    <div class="rules-section">
                        <div class="rules-section-label">
                            <span>Instructions</span>
                        </div>
                        <div class="rules-section-content muted">
                            Select a state on the left. Each field will appear here as a
                            row: statute citation, PII definition, breach definition, risk
                            of harm analysis, timing for notices, exemptions, and
                            penalties. Use the dropdown above to focus on a single field
                            or the search box to filter text.
                        </div>
                    </div>
                </div>
            </div>

            <div class="details-footer">
						<span>
							Status for
							<span class="highlight-state" id="footerStateName"
                            >United States (overview)</span
                            >
							¬∑ Source: internal sheet
						</span>
            </div>
        </section>
    </main>
</div>

<script>
    // ==========================================
    // ROBUST HEATMAP LOGIC
    // ==========================================
    const heatmapToggle = document.getElementById("heatmapToggle");
    const heatmapLegend = document.getElementById("heatmapLegend");

    // 1. Listen for the toggle click
    if (heatmapToggle) {
        heatmapToggle.addEventListener("change", () => {
            if (heatmapToggle.checked) {
                applyHeatmapColors();
                if (heatmapLegend) {
                    heatmapLegend.style.opacity = "1";
                    heatmapLegend.style.pointerEvents = "auto"; // Make clickable
                }
            } else {
                removeHeatmapColors();
                if (heatmapLegend) {
                    // Set to "0" to hide completely, or "0.3" to show as dimmed/inactive
                    heatmapLegend.style.opacity = "0";
                    heatmapLegend.style.pointerEvents = "none"; // Prevent clicks when hidden
                }
            }
        });
    } else {
        console.error(
            "Critical Error: Could not find element with ID 'heatmapToggle'"
        );
    }

    function applyHeatmapColors() {
        STATES.forEach((state) => {
            // 1. Robust Selector: Try to find the state by data-id OR parent ID
            let path = document.querySelector(
                `.us-map path[data-id="${state.code}"]`
            );

            // Fallback: If not found, look for the parent anchor tag (<a>)
            if (!path) {
                const parentLink = document.getElementById(state.code);
                if (parentLink) {
                    path = parentLink.querySelector("path");
                }
            }

            if (!path) {
                console.warn(`Could not find map shape for ${state.code}`);
                return;
            }

            // 2. Get the rule text (Timing for Individuals)
            const rules = state.rules;

            // If data hasn't loaded yet from Google Sheets, do nothing
            if (!rules) return;

            const timingText = (rules.timingIndividuals || "").toLowerCase();

            // 3. Apply Colors
            // Clean old classes first
            path.classList.remove(
                "heat-now",
                "heat-30",
                "heat-45",
                "heat-60",
                "heat-reasonable",
            );

            // Logic
            if (
                timingText.includes("immediately")
            ) {
                path.classList.add("heat-now");
            }else if(timingText.includes("30")){
                path.classList.add("heat-30");
            } else if (
                timingText.includes("45") ||
                timingText.includes("forty-five")
            ) {
                path.classList.add("heat-45");
            }else if(timingText.includes("60")) {
                path.classList.add("heat-60");
            }else if(timingText.includes("possible") || timingText.includes("expedient")) {
                path.classList.add("heat-now");
            } else if(timingText.includes("unreasonable")){
                // Default blue for "Reasonable" or undefined
                path.classList.add("heat-reasonable");
            }else{
                console.log("none should fit this");
            }
        });
    }

    function removeHeatmapColors() {
        document.querySelectorAll(".us-map path").forEach((path) => {
            path.classList.remove(
                "heat-now",
                "heat-30",
                "heat-45",
                "heat-60",
                "heat-reasonable",
            );
        });
    }

    const SHEET_URL =
        "https://docs.google.com/spreadsheets/d/e/2PACX-1vScWPQ4uceIisSFGrj7IfQtnC9_Z-jYJhvbn5aS-toThz-jem7jXc4k1LM2SLc5dvaPJAgAKjJZ1haM/pub?output=csv";

    //  const SHEET_URL =
    // 	"https://corsproxy.io/?" + encodeURIComponent(GOOGLE_LINK);
    // ============================================================================
    // FIELD METADATA & STATE DATA SKELETON
    // ============================================================================
    const FIELD_DEFS = [
        {key: "stateName",label:"State / Jurisdiction"},
        {key:"stateCode",label:"State Code"},
        { key: "statute", label: "Statute(s) Citation" },
        { key: "pii", label: "Definition of Personal Information (PII)" },
        { key: "breach", label: "Definition of Breach" },
        { key: "riskOfHarm", label: "Risk of Harm Analysis" },
        {
            key: "timingIndividuals",
            label: "Timing: Notification to Individuals",
        },
        {
            key: "timingAG",
            label: "Timing: Notification to Attorney General (AG)",
        },
        {
            key: "timingCreditAgencies",
            label: "Timing: Notification to Credit Agencies",
        },
        { key: "noticeContent", label: "Contents of Notice (to Individuals)" },
        { key: "noticeMethod", label: "Method of Notice (to Individuals)" },
        { key: "penalties", label: "Penalties for Non-Compliance" },
        { key: "exemptions", label: "Key Exemptions" },
        { key: "sourceUrl", label: "Source URL" },
        { key: "notes", label: "Notes / Other Requirements" },
    ];

    // Base skeleton. The 'rules' array will be populated by the Google Sheet.
    let STATES = [];

    // ============================================================================
    // DOM REFERENCES & INITIAL SETUP
    // ============================================================================
    const stateSearchEl = document.getElementById("stateSearch");
    const rulesSectionsEl = document.getElementById("rulesSections");
    const detailsStateNameEl = document.getElementById("detailsStateName");
    const detailsStateCodeEl = document.getElementById("detailsStateCode");
    const detailsSubtitleEl = document.getElementById("detailsSubtitle");
    const footerStateNameEl = document.getElementById("footerStateName");
    const fieldFilterEl = document.getElementById("fieldFilter");
    const detailSearchEl = document.getElementById("detailSearch");
    const usMapEl = document.querySelector(".us-map");

    let activeStateCode = null;

    // Populate Dropdown
    FIELD_DEFS.forEach((field) => {
        const opt = document.createElement("option");
        opt.value = field.key;
        opt.textContent = field.label;
        fieldFilterEl.appendChild(opt);
    });

    // ============================================================================
    // FETCH LOGIC (Google Sheets)
    // ============================================================================
    async function initDataLoad() {
        // 1. Check if URL is set
        if (!SHEET_URL || SHEET_URL.includes("INSERT_YOUR")) {
            console.warn("No Google Sheet URL provided yet.");
            detailsSubtitleEl.textContent =
                "Data source not connected. Please add CSV URL in code.";
            return;
        }

        // 2. UI Feedback
        detailsSubtitleEl.textContent = "Loading latest rules from database...";
        detailsSubtitleEl.style.opacity = "0.7";

        try {
            // 3. Fetch
            const response = await fetch(SHEET_URL);
            if (!response.ok)
                throw new Error(`Network response was not ok: ${response.status}`);

            const text = await response.text();

            // 4. Parse & Apply
            const count = applySheetCsvText(text);
            // 5. Success Feedback
            detailsSubtitleEl.textContent = `Database loaded (${count} states found). Click a state to view rules.`;
            detailsSubtitleEl.style.opacity = "1";

            // Optional: Reload current state if one is already selected
            if (activeStateCode) {
                renderRulesSections();
            }
        } catch (error) {
            console.error("Error loading data:", error);
            detailsSubtitleEl.textContent =
                "Error connecting to database. Using offline templates.";
            detailsSubtitleEl.style.color = "#f87171"; // Red-ish error color
        }
    }

    // ============================================================================
    // PARSING LOGIC
    // ============================================================================
    function applySheetCsvText(text) {

        const lines = text.split(/(?<=,State Code|,[A-Z]{2})\r\n/);

        if (lines.length <= 1) return 0;
        const rawTable = lines.map((line)=>[...line.matchAll(/(?:,|^)((?:\"[^"]*\"|[^",]+)*)?/gm)].map((a)=>a[1]?.replaceAll(/^"|"$/gm,"")));
        // maps display names to attributes
        const colMap = Object.fromEntries(FIELD_DEFS.map((val)=>[val.label,val.key]));
        // Use tabs (\t) to split
        const header = rawTable.shift().map((v)=>colMap[v]);
        // Map headers to our internal keys
        STATES=[];
        rawTable.forEach((d)=>{
            const rule = Object.fromEntries(header.map((h,i) =>[h,d[i]]));
            STATES.push({name:rule.stateName,code:rule.stateCode,rules:rule});
        })
        return rawTable.length;
    }

    // ============================================================================
    // UI INTERACTIONS
    // ============================================================================

    function setupMapInteractions() {
        const paths = document.querySelectorAll(".us-map path");
        paths.forEach((path) => {
            path.addEventListener("click", (e) => {
                e.preventDefault();
                e.stopPropagation();
                // Handle direct ID or parent <a> ID
                const code =
                    path.dataset.id ||
                    (path.parentElement && path.parentElement.id) ||
                    path.id;
                if (code) setActiveState(code);
            });
        });
    }

    function setActiveState(code) {
        activeStateCode = code;

        // 1. Visual Active State
        document
            .querySelectorAll(".us-map path")
            .forEach((p) => p.classList.remove("active"));
        const activePath =
            document.querySelector(`.us-map path[data-id="${code}"]`) ||
            document.querySelector(`.us-map a#${code} > path`);

        if (activePath) {
            activePath.classList.add("active");
            // Bring to front for better border visibility
            if (activePath.parentElement.tagName === "A") {
                activePath.parentElement.parentElement.appendChild(
                    activePath.parentElement
                );
            } else {
                activePath.parentElement.appendChild(activePath);
            }
        }

        // 2. Load Data
        const state = STATES.find((s) => s.code === code);

        if (state) {
            detailsStateNameEl.textContent = state.name;
            detailsStateCodeEl.textContent = state.code;
            footerStateNameEl.textContent = state.name;

            if (state.rules) {
                detailsSubtitleEl.textContent = "Data loaded from spreadsheet.";
                renderRulesSections();
            } else {
                detailsSubtitleEl.textContent =
                    "No data found in spreadsheet for " + state.name + ".";
                renderEmptyTemplateSections(state.name);
            }
        } else {
            // Fallback for territories/other
            detailsStateNameEl.textContent = code;
            renderEmptyTemplateSections(code);
        }
    }

    function renderRulesSections() {
        const state = STATES.find((s) => s.code === activeStateCode);
        if (!state || !state.rules) return;

        const rule = state.rules;
        const filterKey = fieldFilterEl.value;
        const searchQuery = detailSearchEl.value.trim().toLowerCase();

        rulesSectionsEl.innerHTML = "";

        FIELD_DEFS.forEach((field) => {
            // Filter Logic
            if (filterKey !== "all" && filterKey !== field.key) return;

            const value = (rule[field.key] || "").toString();
            const lowerValue = value.toLowerCase();

            // Search Logic
            if (
                searchQuery &&
                !lowerValue.includes(searchQuery) &&
                !field.label.toLowerCase().includes(searchQuery)
            ) {
                return;
            }

            // Create Row
            const section = document.createElement("div");
            section.className = "rules-section";

            const labelDiv = document.createElement("div");
            labelDiv.className = "rules-section-label";
            const labelChip = document.createElement("span");
            labelChip.textContent = field.label;
            labelDiv.appendChild(labelChip);

            const contentDiv = document.createElement("div");
            contentDiv.className = "rules-section-content";

            if (!value) {
                contentDiv.textContent = "‚Äî"; // Empty placeholder
                contentDiv.classList.add("muted");
            } else if (field.key === "statute") {
                contentDiv.innerHTML = `<span class="rules-section-pill"><strong>Statute</strong> ${value}</span>`;
            } else if (field.key === "sourceUrl") {
                contentDiv.innerHTML = `<a href="${value}" target="_blank" rel="noopener">Open external link</a>`;
            } else {
                contentDiv.textContent = value;
            }

            section.appendChild(labelDiv);
            section.appendChild(contentDiv);
            rulesSectionsEl.appendChild(section);
        });
    }

    function renderEmptyTemplateSections(stateName) {
        rulesSectionsEl.innerHTML = "";
        const section = document.createElement("div");
        section.className = "rules-section";
        section.innerHTML = `
            <div class="rules-section-label"><span>Status</span></div>
            <div class="rules-section-content muted">
                No rules found for ${stateName} in the connected sheet.<br>
                Add a row in your Google Sheet with "State" set to "${stateName}" and refresh.
            </div>
        `;
        rulesSectionsEl.appendChild(section);
    }

    // ============================================================================
    // EVENT LISTENERS
    // ============================================================================

    // Dropdown filter change
    fieldFilterEl.addEventListener("change", () => {
        if (activeStateCode) renderRulesSections();
    });

    // Text search input
    detailSearchEl.addEventListener("input", () => {
        if (activeStateCode) renderRulesSections();
    });

    // State search (top left)
    stateSearchEl.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
            const query = stateSearchEl.value.trim().toLowerCase();
            const foundState = STATES.find(
                (s) =>
                    s.name.toLowerCase() === query || s.code.toLowerCase() === query
            );
            if (foundState) setActiveState(foundState.code);
        }
    });

    // ============================================================================
    // INIT
    // ============================================================================
    setupMapInteractions();
    initDataLoad(); // Start the fetch
    // ==========================================
    // AUTOCOMPLETE LOGIC
    // ==========================================
    const searchInput = document.getElementById("stateSearch");
    const autocompleteList = document.getElementById("autocompleteList");

    // 1. Listen for typing
    searchInput.addEventListener("input", function () {
        const val = this.value.toLowerCase();

        // Clear list first
        autocompleteList.innerHTML = "";

        // If empty, hide
        if (!val) {
            autocompleteList.classList.add("hidden");
            return;
        }
        // Filter States
        const matches = STATES.filter(
            (state) =>
                state.name.toLowerCase().includes(val) ||
                state.code.toLowerCase().includes(val)
        );

        // If no matches, hide
        if (matches.length === 0) {
            autocompleteList.classList.add("hidden");
            return;
        }

        // Build List
        matches.forEach((state) => {
            const item = document.createElement("div");
            item.className = "autocomplete-item";

            // Content: "Texas <span class='match-code'>TX</span>"
            item.innerHTML = `
            <span>${state.name}</span>
            <span class="match-code">${state.code}</span>
        `;

            // Click Event
            item.addEventListener("click", () => {
                // Trigger your existing logic
                setActiveState(state.code);

                // Clear search UI
                searchInput.value = ""; // Optional: clear input or set to state.name
                autocompleteList.classList.add("hidden");
            });

            autocompleteList.appendChild(item);
        });

        // Show list
        autocompleteList.classList.remove("hidden");
    });

    // 2. Hide list if user clicks anywhere else on screen
    document.addEventListener("click", (e) => {
        if (e.target !== searchInput && e.target !== autocompleteList) {
            autocompleteList.classList.add("hidden");
        }
    });
</script>
</body>
</html>
